<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>欢迎来到CQUPT Hub</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="/static/new/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/new/css/style.css" rel="stylesheet">

  </head>
  <body>

    <div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<nav class="navbar navbar-expand-lg navbar-light bg-light navbar-dark bg-dark fixed-top">
				 
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="navbar-toggler-icon"></span>
				</button> <a class="navbar-brand" href="{{ url_for('index') }}">CQUPT_HUB</a>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="navbar-nav">
						<li class="nav-item active">
							 <a class="nav-link" href="#">主页 <span class="sr-only">(current)</span></a>
						</li>
					<ul class="navbar-nav ml-md-auto">
						<li class="nav-item dropdown">
							 <a class="nav-link dropdown-toggle" href="" id="navbarDropdownMenuLink" data-toggle="dropdown">功能栏</a>
							<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
								 <a class="dropdown-item" href="{{ url_for('index') }}">首页</a> 
								 <a class="dropdown-item" href="{{ url_for('admin') }}">管理员界面</a> 
								<div class="dropdown-divider"></div> 
								<a class="dropdown-item" href="{{ url_for('status') }}">近7日签到趋势图</a>
								<a class="dropdown-item" href="{{ url_for('logout') }}">登出</a>
								<a class="dropdown-item" href="{{ url_for('about') }}">关于</a>
							</div>
						</li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
</div>
<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div class="row">
				<div class="col-md-12">
						<canvas hidden id="canvas" width="500px" height="500px"></canvas>
						<a hidden id="modal-37746" href="#modal-container-37746" role="button" class="btn" data-toggle="modal">Launch demo modal</a>
			
						<div class="modal fade" id="modal-container-37746" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
							<div class="modal-dialog" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="myModalLabel">
											请选择时间段
										</h5> 
										<button type="button" class="close" data-dismiss="modal">
											<span aria-hidden="true">×</span>
										</button>
									</div>
									<div class="modal-body">
										<form method="GET" action="{{ url_for('enroll_form') }}" role="form">
											<div class="form-group">
													
												<label for="exampleInputPassword1">
													开始日期
												</label>
												<input type="date"  name="start" class="form-control" id="exampleInputPassword1" />
											</div>
											<div class="form-group">
													
												<label for="exampleInputPassword1">
													结束日期
												</label>
												<input type="date"  name="end" class="form-control" id="exampleInputPassword1" />
											</div>
									</div>
									<div class="modal-footer">
										 
										<button type="submit" class="btn btn-primary">
											提交
										</button> 
										<button type="button" class="btn btn-secondary" data-dismiss="modal">
											我手滑了
										</button>
									</form>
									</div>
								</div>
								
							</div>
							
						</div>
						<a hidden id="modal-937647" href="#modal-container-937647" role="button" class="btn" data-toggle="modal">Launch demo modal</a>
			
			<div class="modal fade" id="modal-container-937647" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="myModalLabel">
								签到申请权限提醒
							</h5> 
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
						</div>
						<div class="modal-body">
							将申请摄像头权限
							<center>
								<p>
									<video id="video_sign" width="150px" height="150px" autoplay="autoplay"></video>
								</p>
							</center>
						</div>
						<div class="modal-footer">
							 
							<button onclick="sign()" type="button" class="btn btn-primary" data-dismiss="modal">
								确定
							</button> 
							<button type="button" class="btn btn-secondary" data-dismiss="modal">
								我想缺勤
							</button>
						</div>
					</div>
					
				</div>
				
			</div>
			<a hidden id="modal-213589" href="#modal-container-213589" role="button" class="btn" data-toggle="modal">Launch demo modal</a>
			
			<div class="modal fade" id="modal-container-213589" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="myModalLabel">
								周报
							</h5> 
							<button type="button" class="close" data-dismiss="modal">
								<span aria-hidden="true">×</span>
							</button>
						</div>
						<div class="modal-body">
							<form role="form">
								<div class="form-group">
									<label for="exampleInputEmail1">
										本周做了什么？
									</label>
									<input type="text" value="什么都没做" class="form-control" id="did" />
								</div>
								<div class="form-group">
									<label for="exampleInputEmail1">
										遇到了什么困难？
									</label>
									<input type="text" value="全是困难" class="form-control" id="trouble" />
								</div>
								<div class="form-group">
									<label for="exampleInputEmail1">
										下周的计划？
									</label>
									<input type="text" value="摸鱼" class="form-control" id="want" />
								</div>
							</form>
						</div>
						<div class="modal-footer">
							 
							<button type="button" onclick="submit_week_report()" class="btn btn-primary">
								提交
							</button> 
							<button type="button" class="btn btn-secondary" data-dismiss="modal">
								让我再想想
							</button>
						</div>
					</div>
					
				</div>
				
			</div>
					<br><br><br>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<div id="info_index_show" class="alert alert-dismissable alert-info">
				 
				<button id="info_index_show_close" type="button" class="close" data-dismiss="alert" aria-hidden="true">
					×
				</button>
				<h4>
					公告
				</h4> <strong>通知:</strong> <p id="info_index" ></p>
			</div>
			<div class="tabbable" id="tabs-542327">
				<ul class="nav nav-tabs">
					<li class="nav-item">
						<a class="nav-link active show" href="#tab1" data-toggle="tab">签到</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#tab2" data-toggle="tab">摸鱼</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#tab3" data-toggle="tab">周报系统</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#tab4" data-toggle="tab">我</a>
					</li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="tab1">
						<div class="container-fluid">
							<div class="row ">
								<div class="col-md-12 ">
										<div class="btn-group m-auto" role="group">
											<button onclick="sign_show()" class="btn btn-secondary" type="button">
												签到
											</button> 
											<button onclick="show_sign_table()" class="btn btn-secondary" type="button">
												生成签到记录
											</button>
										</div>
									
								</div>
							</div>
							<div id="card-93549">
								<div class="card">
									<div class="card-header">
										 <a class="card-link" data-toggle="collapse" data-parent="#card-93549" href="#card-element-41102">{{ current_user.username.split("@")[-1][-4:] }}的近30日签到总结</a>
									</div>
									<div id="card-element-41102" class="collapse show">
										<div class="card-body">
											<div class="row">
												<div class="col-md-12">
														<div id="one_info" style="width: 100%;height:200px;"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="card">
									<div class="card-header">
										 <a class="collapsed card-link" data-toggle="collapse" data-parent="#card-93549" href="#card-element-757304">昨日守夜冠军</a>
									</div>
									<div id="card-element-757304" class="collapse show">
										<div class="card-body">
												<table class="table">
														<thead>
															<tr>
																<th>
																	名字
																</th>
																<th>
																	离开时间
																</th>
																<th>
																	🏆
																</th>
															</tr>
														</thead>
														<tbody>
															{% for i in myData.winnerData.sign %}
															{% if i.win == "冠军" %}
															<tr class="table-danger">
																<td>
																	{{ i.name.split("@")[-1][-4:] }}
																</td>
																<td>
																	{{ i.time.split(" ")[-1] }}
																</td>
																<td>
																	{{ i.win }}
																</td>
															</tr>
															{% elif i.win == "亚军" %}
															<tr class="table-warning">
																<td>
																	{{ i.name.split("@")[-1][-4:] }}
																</td>
																<td>
																	{{ i.time.split(" ")[-1] }}
																</td>
																<td>
																	{{ i.win }}
																</td>
															</tr>
															{% else %}
															<tr class="table-success">
																<td>
																	{{ i.name.split("@")[-1][-4:] }}
																</td>
																<td>
																	{{ i.time.split(" ")[-1] }}
																</td>
																<td>
																	{{ i.win }}
																</td>
															</tr>
															{% endif %}
															{% endfor %}
														</tbody>
													</table>
										</div>
									</div>
								</div>
							</div>
							
						</div>
					</div>
					<div class="tab-pane" id="tab2">
							<div class="container-fluid">
									<div class="row">
										<div class="col-md-12">
											<a id="modal-798785" href="#modal-container-798785" role="button" class="btn" data-toggle="modal"><button type="button" class="btn btn-warning btn-lg">
												点我摸鱼
											</button></a>
										<div class="modal fade" id="modal-container-798785" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
											<div class="modal-dialog" role="document">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title" id="myModalLabel">
															请假条
														</h5> 
														<button type="button" class="close" data-dismiss="modal">
															<span aria-hidden="true">×</span>
														</button>
													</div>
													<div class="modal-body">
														<form role="form">
																<div class="form-group">
																		
																	<label for="exampleInputEmail1">
																		请假理由
																	</label>
																	<input type="text" id="absent_info" class="form-control" id="exampleInputEmail1" />
																</div>
																<div class="form-group">
																		
																	<label for="exampleInputPassword1">
																		请假日期
																	</label>
																	<input type="date" id="absent_date" class="form-control" id="exampleInputPassword1" />
																</div>
																<div class="form-group">
																		
																	<label for="exampleInputPassword1">
																		返回日期
																	</label>
																	<input type="date" id="reach_date" class="form-control" id="exampleInputPassword1" />
																</div>
															</form>
													</div>
													<div class="modal-footer">
														 
														<button type="button" onclick="absent()" class="btn btn-primary">
															提交
														</button> 
														<button type="button" class="btn btn-secondary" data-dismiss="modal">
															我手滑了
														</button>
													</div>
												</div>
												
											</div>
											
										</div>
										</div>
									</div>
									<div id="card-93549">
										<div class="card">
											<div class="card-header">
												 <a class="card-link" data-toggle="collapse" data-parent="#card-93549" href="#card-element-41102">近10条假条</a>
											</div>
											<div id="card-element-41102" class="collapse show">
												<div class="card-body">
													<div class="row">
														<div class="col-md-12">
															<table class="table table-bordered table-sm">
																<thead>
																	<tr>
																		<th>
																			理由
																		</th>
																		<th>
																			请假时间
																		</th>
																		<th>
																			返回时间
																		</th>
																		<th>
																			状态
																		</th>
																		<th>
																			理由
																		</th>
																	</tr>
																</thead>
																<tbody>
																		{% for i in myData.absent %}
																		<tr class="info">
																			<td>
																				{{ i.info }}
																			</td>
																			<td>
																				{{ i.abtime }}
																			</td>
																			<td>
																				{{ i.retime }}
																			</td>
																			<td>
																				{{ i.status }}
																			</td>
																			<td>
																				{{ i.fin }}
																			</td>
																		</tr>
																		{% endfor %}
																</tbody>
															</table>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
					</div>
					<div class="tab-pane" id="tab3">
						<div class="container-fluid">
							<div class="row">
								<div class="col-md-12">
									<nav>
										<ol class="breadcrumb">
											<li class="breadcrumb-item">
												<a href="{{ url_for('index') }}#tab3">我的周报</a>
											</li>
										</ol>
									</nav>
									<div class="btn-group" role="group">
										 
										<button class="btn btn-secondary" type="button" onclick="show_week_table()">
											提交本周周报
										</button> 
									</div>
									<table class="table table-sm table-striped">
										<thead>
											<tr>
												<th>
													周数
												</th>
												<th>
													提交时间
												</th>
												<th>
													操作
												</th>
											</tr>
										</thead>
										<tbody>
											{% for i in myData.week_report %}
											<tr class="table-success">
												<td>
													{{i.week}}
												</td>
												<td>
													{{i.subtime}}
												</td>
												<td>
													<a href="{{ url_for('week_report_view') }}?id={{ i.id }}">
														<button type="button" class="btn btn-sm btn-info">
															详情
														</button>
													</a>
												</td>
											</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
					<div class="tab-pane" id="tab4">
						<div class="container-fluid">
							<div class="row">
								<div class="col-md-12">
									<center>
										<img alt="140x140" height="140" width="140" src="data:image/jpg;base64,{{current_user.Img2Base64}}" class="rounded-circle" />
									</center>
									<h3 class="text-center">
											~{{ current_user.username }}~
									</h3>
								</div>
							</div>
							<div class="row">
									<div class="col-md-12">
										<div id="card-446180">
											<div class="card">
												<div class="card-header">
													 <a class="card-link" data-toggle="collapse" data-parent="#card-446180" href="#card-element-536839">近5次签到记录</a>
												</div>
												<div id="card-element-536839" class="collapse show">
													<div class="card-body">
															<table class="table table-sm table-bordered">
																	<thead>
																		<tr>
																			<th>
																				时间
																			</th>
																			<th>
																				记录
																			</th>
																		</tr>
																	</thead>
																	<tbody>
																		{% for i in myData.sign %}
																		<tr class="info">
																			<td>
																				{{ i.time }}
																			</td>
																			<td>
																				<img alt="40x40" height="40" width="40" src="data:image/jpg;base64,{{i.face}}" />
																			</td>
																		</tr>
																		{% endfor %}
																	</tbody>
																</table>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="/static/new/js/jquery.min.js"></script>
<script src="/static/new/js/bootstrap.min.js"></script>
<script src="/static/new/js/scripts.js"></script>
<script src="/static/new/js/main/index_5.1.3.js"></script>
<script type="text/javascript" src="/static/new/js/echarts.min.js"></script>
<script src="/static/new/js/main/index_echart_5.1.3.js"></script>

  </body>
</html>